<p><meta charset="utf-8" /></p>

<h1>particle.js</h1>

<p>up and running <a href="http://city41.github.com/particle.js/">here</a></p>

<p>A particle system designer written in JavaScript using HTML5 Canvas and dat-gui for the UI</p>

<p><img src="https://raw.github.com/city41/particle.js/datgui/particlejs.png" alt="screenshot" title="" /></p>

<h2>Main Purpose</h2>

<p>This particle editor was written to support an article I wrote. The needs of the article came first and so
that does mean particle.js possibly has less than optimal choices for general usage.  </p>

<p>It would be nice if particle.js took on a life beyond the article, but in all honesty I have no plans for that
just yet.</p>

<h2>License</h2>

<p>Licensed under Apache 2.0. This generally means you can do just about anything you want with this code.
But if unsure, you can read the license here: <a href="http://www.apache.org/licenses/LICENSE-2.0">http://www.apache.org/licenses/LICENSE-2.0</a></p>

<h2>Features</h2>

<ul>
<li>Almost the same particle system parameters as Cocos2D and LÖVE</li>
<li>Mostly UI agnostic, the particle system itself has no dat-gui code in it
<ul>
<li>to be fair: the Emitter has been written with dat-gui-isms in mind.</li>
</ul></li>
<li>Configurable UI through a query parameter (show only the parameters you care about)</li>
</ul>

<h2>Query Parameters</h2>

<p>particle.js's UI is very configurable via query parameters. Here's the low down:</p>

<p>all parameters are optional.</p>

<ul>
<li><strong>w</strong>: integer, width of the canvas in pixels (default is 250)</li>
<li><strong>h</strong>: integer, height of the canvas in pixels (default is 300)</li>
<li><strong>system</strong>: string, the initial predefined particle system to start out with.
<ul>
<li>choices so far include: <code>meteor</code>, <code>fireworks</code>, <code>fire</code>, <code>galaxy</code>, <code>snow</code>, <code>watergeyser</code> and <code>ribbon</code></li>
<li><code>ringoffire</code> is also a choice, see below</li>
</ul></li>
<li><strong>ui</strong>: string, specifies which UI components to include for alterning the system, see below</li>
</ul>

<h3>Changing the UI</h3>

<p>The <strong>ui</strong> query parameter takes a string that specifies what UI components to include. It's in the form</p>

<pre><code>&lt;category name&gt;,&lt;parameter name&gt;,&lt;parameter 2 name&gt;:&lt;category name&gt;,&lt;parameter name&gt;,&lt;parameter name&gt;
</code></pre>

<p>For example, to have pos, posVar and startColor UI components all in a "Simple" category, the string would be</p>

<pre><code>ui=Simple,pos,posVar,startColor
</code></pre>

<p><a href="http://city41.github.com/particle.js/index.html?ui=Simple,pos,posVar,startColor">like this</a></p>

<p>Or to have two different categories:</p>

<pre><code>ui=Basics,pos,posVar,life:Appearance,startColor,endColor
</code></pre>

<p><a href="http://city41.github.com/particle.js/index.html?ui=Basics,pos,posVar,life:Appearance,startColor,endColor">like this</a></p>

<p>You can also have no UI at all by specifying <a href="http://city41.github.com/particle.js/index.html?ui=none">ui=none</a>, in this case
you will still get the 'Play' and 'Reset' buttons. </p>

<p>You can fully hide the UI by hitting 'h', and bring it back with 'h' again</p>

<h4>All the possible parameters and their UI Types</h4>

<ul>
<li><strong>totalParticles</strong> (unsignednumber) total number of particles in the particle pool</li>
<li><strong>emissionRate</strong> (unsignednumber) rate at which particles are released</li>
<li><strong>pos</strong> <code>vector</code> starting position for particles</li>
<li><strong>posVar</strong> <code>vector</code> variance in particle starting positions</li>
<li><strong>gravity</strong> <code>vector</code> the gravity vector</li>
<li><strong>angle</strong> <code>number</code> the angle at which the particles depart, in degrees</li>
<li><strong>angleVar</strong> <code>unsignednumber</code> variance in the particle angle</li>
<li><strong>speed</strong> <code>number</code> the speed at which particles move</li>
<li><strong>speedVar</strong> <code>unsignednumber</code> speed variance</li>
<li><strong>life</strong> <code>number</code> how long a particle lives, in seconds</li>
<li><strong>lifeVar</strong> <code>unsignednumber</code> life variance</li>
<li><strong>radialAccel</strong> <code>number</code> the radial acceleration of a particle. negative values are towards the emitter's location, positive are away</li>
<li><strong>radialAccelVar</strong> <code>unsignednumber</code> radial acceleration variance</li>
<li><strong>tangentialAccel</strong> <code>number</code> the tangential acceleration of the particles, perpendicular to the radial acceleration</li>
<li><strong>tangentialAccelVar</strong> <code>unsignednumber</code> tangential acceleration variance</li>
<li><strong>texture</strong> <code>texture</code> the texture to use for the particles, UI wise, a file chooser is displayed allowing users to change the texture</li>
<li><strong>textureEnabled</strong> <code>boolean</code> whether textures are enabled or not</li>
<li><strong>textureAdditive</strong> <code>boolean</code> whether textures are rendered additively or not</li>
<li><strong>radius</strong> <code>unsignednumber</code> the radius of a particle if its not using textures</li>
<li><strong>radiusVar</strong> <code>unsignednumber</code> radius variance</li>
<li><strong>startScale</strong> <code>unsignednumber</code> the initial scale of a particle if its using textures. from 0 <code>nothing at all</code> to 1 <code>full size of the texture</code></li>
<li><strong>endScale</strong> <code>unsignednumber</code> the final scale of a particle if its using textures. from 0 <code>nothing at all</code> to 1 <code>full size of the texture</code></li>
<li><strong>startColor</strong> <code>color</code> the starting color of a particle</li>
<li><strong>startColorVar</strong> <code>color</code> starting color variance</li>
<li><strong>endColor</strong> <code>color</code> the ending color of a particle</li>
<li><strong>endColorVar</strong> <code>color</code> end color variance</li>
</ul>

<h2>Ring of Fire particle system</h2>

<p>This is a <em>smidge</em> hacked in, it was added for the article. To see this particle system, you need to add <code>transform=true</code>
and <code>system=ringoffire</code> to the query parameters. Like <a href="http://city41.github.com/particle.js/index.html?ui=Transform&amp;transform=true&amp;system=ringoffire">this</a></p>

<h2>About datGUI</h2>

<p>datGUI is a Google library from the Chrome Experiments team (they are also behind stats.js and three.js). It is the UI library responsible for the
user controls in particle.js.</p>

<p>datGUI's main source code home is <a href="http://code.google.com/p/dat-gui/">here</a>. Since it is licensed under Apache-2.0, I decided
to bring my fork of datGUI over here to github (hey datGUI members, if you don't like that, let me know). It is in the <code>dat-gui</code> directory.</p>

<p>My fork primarily includes two additions:</p>

<ul>
<li>FileController -- a controller that allows users to select a file from their file system</li>
<li>TextAreaController -- like StringController, but users a textarea. </li>
</ul>

<h2>And stats.js</h2>

<p>particle.js also uses stats.js to display framerate info. I hack it a smidge, and get rid of the realtime graphs after instantiating a <code>stats</code> object.
The stats.js library is untouched by me.</p>

<h2>Test Coverage</h2>

<p>I know, it's bad. Sorry about that. I promise to come back and flesh out the tests. They are in the <code>spec</code> directory and use jasmine.</p>

<h2>Future Features?</h2>

<p>It'd be cool to export these systems into a Cocos2D or LÖVE format. Also would be cool to export
them into a format that would be compatible with ImpactJS and Cocos2D-JavaScript.</p>
